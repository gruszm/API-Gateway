FROM node:20.17.0-alpine

WORKDIR /api_gateway

COPY . .

RUN npm install

ARG PORT
ARG PORT_DB
ARG DB_SERVICE_NAME

ENV PORT=${PORT} PORT_DB=${PORT_DB} DB_SERVICE_NAME=${DB_SERVICE_NAME}

EXPOSE ${PORT}

CMD [ "npm", "start" ]